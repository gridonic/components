import { DebuggerService } from "../Service/DebuggerService";
import { NotificationService } from "../Service/NotificationService";
export class AppKernel {
    constructor() {
        this.debug = null;
        this.notificationService = null;
    }
    getNotificationService() {
        if (this.notificationService === null) {
            this.notificationService = new NotificationService();
            this.registerService(this.notificationService);
        }
        return this.notificationService;
    }
    getDebug() {
        if (this.debug === null) {
            this.debug = this.registerService(new DebuggerService());
            this.debug.detect();
        }
        return this.debug;
    }
    init() {
        this.getDebug().log("Initialize app...");
        this.getDebug().log("Register services...");
        this.registerServices();
        this.getDebug().log("Initialization complete!");
        return this;
    }
    registerService(service) {
        this.getNotificationService()
            .registerListener(service);
        return service;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXBwS2VybmVsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2pzL3NyYy9Db3JlL0FwcEtlcm5lbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sNEJBQTRCLENBQUM7QUFDM0QsT0FBTyxFQUFDLG1CQUFtQixFQUFDLE1BQU0sZ0NBQWdDLENBQUM7QUFHbkUsTUFBTTtJQUFOO1FBRVksVUFBSyxHQUFvQixJQUFJLENBQUM7UUFDOUIsd0JBQW1CLEdBQXdCLElBQUksQ0FBQztJQXVDNUQsQ0FBQztJQXJDVSxzQkFBc0I7UUFDekIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLG1CQUFtQixLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDcEMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksbUJBQW1CLEVBQUUsQ0FBQztZQUNyRCxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ25ELENBQUM7UUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDO0lBQ3BDLENBQUM7SUFFTSxRQUFRO1FBQ1gsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ3RCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLGVBQWUsRUFBRSxDQUFDLENBQUM7WUFDekQsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUN4QixDQUFDO1FBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdEIsQ0FBQztJQUVNLElBQUk7UUFDUCxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1FBRTVDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBRXhCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLENBQUMsMEJBQTBCLENBQUMsQ0FBQztRQUVoRCxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFUyxlQUFlLENBQXlCLE9BQVU7UUFDeEQsSUFBSSxDQUFDLHNCQUFzQixFQUFFO2FBQ3hCLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRS9CLE1BQU0sQ0FBQyxPQUFPLENBQUM7SUFDbkIsQ0FBQztDQUdKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtEZWJ1Z2dlclNlcnZpY2V9IGZyb20gXCIuLi9TZXJ2aWNlL0RlYnVnZ2VyU2VydmljZVwiO1xuaW1wb3J0IHtOb3RpZmljYXRpb25TZXJ2aWNlfSBmcm9tIFwiLi4vU2VydmljZS9Ob3RpZmljYXRpb25TZXJ2aWNlXCI7XG5pbXBvcnQge1RvbmljU2VydmljZX0gZnJvbSBcIi4uL1NlcnZpY2UvVG9uaWNTZXJ2aWNlXCI7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBcHBLZXJuZWwge1xuXG4gICAgcHJpdmF0ZSBkZWJ1ZzogRGVidWdnZXJTZXJ2aWNlID0gbnVsbDtcbiAgICBwcml2YXRlIG5vdGlmaWNhdGlvblNlcnZpY2U6IE5vdGlmaWNhdGlvblNlcnZpY2UgPSBudWxsO1xuXG4gICAgcHVibGljIGdldE5vdGlmaWNhdGlvblNlcnZpY2UoKSB7XG4gICAgICAgIGlmICh0aGlzLm5vdGlmaWNhdGlvblNlcnZpY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uU2VydmljZSA9IG5ldyBOb3RpZmljYXRpb25TZXJ2aWNlKCk7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyU2VydmljZSh0aGlzLm5vdGlmaWNhdGlvblNlcnZpY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubm90aWZpY2F0aW9uU2VydmljZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RGVidWcoKSB7XG4gICAgICAgIGlmICh0aGlzLmRlYnVnID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmRlYnVnID0gdGhpcy5yZWdpc3RlclNlcnZpY2UobmV3IERlYnVnZ2VyU2VydmljZSgpKTtcbiAgICAgICAgICAgIHRoaXMuZGVidWcuZGV0ZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5kZWJ1ZztcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5nZXREZWJ1ZygpLmxvZyhcIkluaXRpYWxpemUgYXBwLi4uXCIpO1xuICAgICAgICB0aGlzLmdldERlYnVnKCkubG9nKFwiUmVnaXN0ZXIgc2VydmljZXMuLi5cIik7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlclNlcnZpY2VzKCk7XG5cbiAgICAgICAgdGhpcy5nZXREZWJ1ZygpLmxvZyhcIkluaXRpYWxpemF0aW9uIGNvbXBsZXRlIVwiKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgcmVnaXN0ZXJTZXJ2aWNlPFQgZXh0ZW5kcyBUb25pY1NlcnZpY2U+KHNlcnZpY2U6IFQpOiBUIHtcbiAgICAgICAgdGhpcy5nZXROb3RpZmljYXRpb25TZXJ2aWNlKClcbiAgICAgICAgICAgIC5yZWdpc3Rlckxpc3RlbmVyKHNlcnZpY2UpO1xuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCByZWdpc3RlclNlcnZpY2VzKCk7XG59XG4iXX0=